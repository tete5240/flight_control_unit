# Flight Control Unit

## 프로젝트 개요

Flight Control Unit 프로젝트는 소형 드론을 위한 센서 기반 비행제어 모듈 설계를 통해 
avionics hardware engineer가 되기 위해 필요한 역량을 강화한다.

프로젝트는 5가지의 스테이지로 나눠지며 이루어진 각 과정과 이에 필요한 기술 스택 및 배경지식을 기재하였다.

관련된 디테일한 자료 (PID 제어, I2C/SPI 프로토콜) 등은 docs 폴더에서 확인할 수 있다.

## 프로젝트 단계

**1. 센서 인터페이스**
- I2C/SPI 프로토콜을 통해 IMU센서(관성 측정 장치)가 전달한 값을 읽어온다.
    | 구분             | 내용                                               |
    | -------------- | ------------------------------------------------ |
    | **언어/도구**      | Verilog / SystemVerilog, GTKWave, Icarus Verilog |
    | **하드웨어 개념**    | I2C, SPI 프로토콜 (Master-Slave 구조, 타이밍 다이어그램)       |
    | **FPGA 관련 기술** | FSM(Finite State Machine) 설계, 클럭 분주기, 신호 동기화     |
    | **데이터시트 이해**   | 센서 레지스터 맵, 통신 시퀀스 (예: MPU6050)                   |


**2. 제어 알고리즘**
- 센서 데이터를 토대로 안정된 PID 제어를 수행한다.
    | 구분          | 내용                                                                   |
    | ----------- | -------------------------------------------------------------------- |
    | **언어/도구**   | Verilog (고속 병렬 연산), Embedded C (PID 시뮬레이션용)                          |
    | **수학/이론**   | PID 제어 기본식, 저역통과 필터(LPF), 센서 퓨전(Complementary Filter, Kalman Filter) |
    | **FPGA 기술** | 고정소수점 연산(Fixed-Point Arithmetic), 파이프라인 구조                           |
    | **시각화/검증**  | MATLAB / Python (시뮬레이션 비교용)                                          |
    | **테스트 환경**  | Testbench 작성 → 입력값 변화에 따른 제어 출력 관찰                                   |


**3. 하드웨어 시뮬레이션 및 검증**
- 실제 하드웨어 연결 전 FGPA 로직 및 전기적 특성 검증을 수행한다.
    | 구분            | 내용                                                 |
    | ------------- | -------------------------------------------------- |
    | **회로 시뮬레이션**  | SPICE, LTSpice, Multisim                           |
    | **전원/노이즈 이론** | EMI/EMC, decoupling capacitor 설계, power sequencing |
    | **FPGA 툴**    | Vivado/Quartus Power Analyzer                      |
    | **신호 분석**     | 오실로스코프, 논리분석기 사용법                                  |
    | **테스트 기법**    | 신호 무결성(SI), 전압 스파이크, 지터 확인                         |


**4. PCB 설계 및 보드 제작**
- FPGA, 센서, 보드, 전원부를 제작하고 실제로 연결해본다.
    | 구분             | 내용                                  |
    | -------------- | ----------------------------------- |
    | **EDA 툴**      | KiCad / Altium Designer             |
    | **PCB 설계 기본기** | 그라운드 플레인, 신호 라우팅, 디커플링, EMI 차폐      |
    | **회로 설계 도구**   | KiCad schematic capture             |
    | **파일 포맷**      | Gerber, BOM 제작                      |
    | **검증**         | DRC (Design Rule Check), Netlist 검증 |


**5. 통합 테스트**
- 전체 시스템의 실시간 동작 검증을 수행한다.
    | 구분           | 내용                                |
    | ------------ | --------------------------------- |
    | **테스트 장비**   | 오실로스코프, 멀티미터, 논리분석기               |
    | **FPGA 툴**   | Vivado / Quartus Programmer       |
    | **펌웨어 개발**   | UART 디버그 인터페이스, 실시간 로깅            |
    | **제어 로직 검증** | PWM 출력 확인, 모터 응답 분석               |
    | **디버깅 기술**   | Signal Tap (Intel) / ILA (Xilinx) |
---