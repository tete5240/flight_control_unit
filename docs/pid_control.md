# PID 제어 (Proportional-Integral-Derivative Control)

## 1. **PID 제어란?**

**PID 제어**는 **피드백 제어 시스템**에서 목표값과 실제값 간의 오차를 줄이기 위해 사용되는 알고리즘이다.
PID 제어는 세 가지 핵심 요소인 **비례(Proportional)**, **적분(Integral)**, **미분(Derivative)** 항을 통해
시스템의 동작을 실시간으로 조정하고 목표 상태에 도달하도록 한다.


## 2. **PID 제어의 기본 구성**

PID 제어기는 크게 세 가지 항목으로 구성된다. 각 항목은 시스템의 오차를 어떻게 처리할지에 대한 서로 다른 방식으로 작용한다:

### 2.1 **P (Proportional, 비례항)**

비례항은 현재 오차에 비례해서 제어 입력을 조정한다.
오차가 클수록 강하게 반응하며, 오차가 0에 가까워지면 제어 입력도 줄어든다.

* **수식:**
  [
  P = K_p \times e(t)
  ]

  * `Kp`: 비례 게인 (제어의 민감도)
  * `e(t)`: 현재 오차 (목표값 - 실제값)

#### 특징:

* 오차가 클수록 빠르게 반응하지만, 너무 크면 **overshoot** (목표값을 지나치는 현상) 발생 가능하다.
* 비례 항만 있으면 시스템이 **목표값에 도달하기 전**에 **진동**이 발생할 수 있다.

### 2.2 **I (Integral, 적분항)**

적분항은 누적된 오차를 기반으로 시스템을 조정한다.
시스템이 목표값에 도달하지 못한 상태로 시간이 지나면, 적분 항이 **누적 오차를 보상**해 주기 때문에
잔여 오차(steady-state error)를 제거할 수 있다.

* **수식:**
  [
  I = K_i \int e(t) , dt
  ]

  * `Ki`: 적분 게인
  * `e(t)`: 현재 오차 (목표값 - 실제값)

#### 특징:

* 작은 오차가 지속되면 **누적되어** 점차적으로 제어 신호를 증가시킨다.
* 시스템이 지속적으로 오차가 있으면 이를 바로잡을 수 있으나, 적분 항이 과도하면 반응이 느려지거나 과도한 조정이 발생할 수 있다.

### 2.3 **D (Derivative, 미분항)**

미분항은 오차 변화율을 기반으로 시스템을 조정한다.
즉, **오차의 변화 속도**를 측정하여 빠른 변화를 억제한다.
이것은 시스템의 **진동을 억제**하고 **과도 반응을 줄이는 데** 유용하다.

* **수식:**
  [
  D = K_d \frac{d e(t)}{dt}
  ]

  * `Kd`: 미분 게인
  * `e(t)`: 현재 오차 (목표값 - 실제값)

#### 특징:

* 시스템의 변화 속도에 따라 빠르게 반응하고 **진동을 줄이는** 데 도움을 준다.
* 그러나 **과도한 미분 항**은 **잡음**을 증폭시킬 수 있다.


## 3. **PID 제어 수식**

PID 제어기의 출력(제어 신호)은 다음과 같다:

[
u(t) = K_p \cdot e(t) + K_i \cdot \int e(t) , dt + K_d \cdot \frac{d e(t)}{dt}
]

* `u(t)`: 제어 신호 (모터 속도, PWM 출력 등)
* `e(t)`: 목표값과 실제값의 차이 (오차)
* `Kp`, `Ki`, `Kd`: 각각 비례, 적분, 미분 항의 게인 값

PID 제어기의 출력은 **오차**를 **비례, 적분, 미분 방식으로 반영**한 값이다.


## 4. **PID 제어기의 동작 예시**

### 4.1 **온도 제어 예시**

목표 온도에 대한 실제 온도의 차이를 PID 제어를 사용해 제어하는 시스템을 생각해 보자.

* 목표 온도: 25°C
* 실제 온도: 22°C

이때, **P**, **I**, **D** 각각이 어떻게 작용할까?

1. **P (비례항)**: 오차가 클수록 더 큰 출력을 생성한다. (목표 온도에 도달하기 위해 빠르게 반응)
2. **I (적분항)**: 온도 차이가 계속 누적되면, **누적 오차**를 없애기 위해 점차적으로 제어 출력을 증가시킨다.
3. **D (미분항)**: 온도 차이가 빠르게 변화하면, 이를 억제하고 과도 반응을 줄인다.

이 세 항목을 조합하여 **목표 온도에 도달**하도록 제어 시스템을 설계한다.



## 5. **PID 제어의 장점과 단점**

### 5.1 **장점**

* **쉬운 구현**: PID 제어는 비교적 직관적이고 구현이 간단하여 다양한 시스템에 쉽게 적용할 수 있다.
* **효율성**: 잘 튜닝된 PID 제어기는 대부분의 시스템에서 매우 효율적으로 작동한다.
* **적응성**: 비례, 적분, 미분 항을 통해 다양한 동작을 보정할 수 있어, 여러 상황에 유연하게 대응할 수 있다.

### 5.2 **단점**

* **파라미터 조정**: `Kp`, `Ki`, `Kd` 값을 적절히 조정하는 것이 중요하다. **잘못 설정하면 시스템이 불안정해지거나, 과도한 진동이 발생**할 수 있다.
* **과도한 적분**: `Ki`가 너무 커지면 **과도한 적분 반응**으로 시스템이 불안정해질 수 있다.
* **잡음에 민감**: 미분항 `Kd`는 **잡음에 민감**할 수 있어, 시스템이 비효율적으로 반응할 수 있다.



## 6. **PID 제어 튜닝**

PID 제어기를 실제로 구현하려면 `Kp`, `Ki`, `Kd` 값을 튜닝해야 한다.
이 값을 어떻게 설정하느냐에 따라 시스템의 **응답 속도**, **안정성**, **정확도**가 결정된다.

### 6.1 **튜닝 방법**

1. **Ziegler-Nichols 방법**: 실험적으로 PID 제어의 게인 값을 찾는 방법.
2. **사람 경험 기반 조정**: 시스템의 특성을 파악하여 적절한 값을 수동으로 찾는 방법.
3. **자동화된 튜닝 알고리즘**: 알고리즘을 사용하여 자동으로 게인을 조정하는 방법.



## 7. **실제 적용 사례**

* **자동차 크루즈 컨트롤**: 속도를 일정하게 유지하기 위해 PID 제어기를 사용한다. 목표 속도와 실제 속도 간의 차이를 줄이기 위해 비례, 적분, 미분 항을 사용한다.
* **드론 비행 제어**: PID 제어는 드론의 자세를 안정화시키는 데 사용된다. 목표 각도와 실제 각도의 차이를 기반으로 모터를 조정한다.
* **온도 제어 시스템**: PID는 난방 시스템이나 냉각 시스템에서 목표 온도를 유지하기 위해 사용된다.



## 8. **결론**

PID 제어는 다양한 시스템에서 **목표값에 대한 정확한 제어**를 가능하게 하는 강력한 알고리즘이다.
**비례, 적분, 미분** 항을 통해 실시간으로 시스템을 조정하며, **쉽게 구현 가능하고 매우 효율적**이다.
하지만 시스템에 따라 **파라미터 튜닝**이 필요하며, **과도한 반응**을 방지하려면 미세한 조정이 필요하다.
